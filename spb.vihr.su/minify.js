function waitElement(e,l=5e3){let t=Date.now();return new Promise((r,n)=>{let i=()=>{let o=document.querySelector(e);o?r(o):Date.now()-t>=l?n("Превышено время ожидания"):setTimeout(i,100)};setTimeout(i,100)})}function convertText(e){let l=e.match(/Особенности([\s\S]*)/);if(!l)return e;{let t=e.substring(0,l.index),r=l[1].trim().split(/\n-\s+/).map(e=>`<li>${e}</li>`).join("");return`<p>${t}</p><br><b>Особенности:</b><ul><br>${r=r.replaceAll("<li>:</li>","")}</ul>`}}let html="";const elDesc=document.querySelector("div#product-description > div"),elNameProps=document.querySelectorAll("div#product-features td.name"),elValueProps=document.querySelectorAll("div#product-features td.value");if(elDesc){let e=elDesc.querySelector("p:nth-child(1)"),l=elDesc.querySelector("p:nth-child(2)"),t=e.innerText.trim();l?t+=l.innerText.trim():console.trace("Нет оссобенностей!"),html=convertText(t)}else console.trace("Нет описания");if(elNameProps.length>0&&elValueProps.length>0){if(elNameProps.length==elValueProps.length){html+="<b>Характеристики</b><ul><br>";for(let r=0;r<elNameProps.length;r++){let n=elNameProps[r],i=elValueProps[r];""!=i.textContent.trim()&&(html+=`<li>${n.textContent.trim()}: ${i.textContent.trim()}</li>`)}html+="</ul>"}else console.trace(`Длина хар-к не равна! (${elNameProps.length}, ${elValueProps.length})`)}else console.trace("Нет характеристик!");html=html.replaceAll(/<(\w+)(?:\s+[^>]+)?>/g,"<$1>").replaceAll(/<(\w+)(?:\s+[^>]+)?><\/\1>/g,"").replaceAll(/<!--[\s\S]*?-->/g,"");
